<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alpine IndexedDB Components</title>
  <script src="https://cdn.jsdelivr.net/combine/npm/@tailwindcss/browser@4,npm/@phosphor-icons/web,npm/dexie@4,npm/tabulator-tables"></script>
  <link href="https://cdn.jsdelivr.net/combine/npm/daisyui@5/themes.css,npm/daisyui@5,npm/tabulator-tables/dist/css/tabulator_simple.min.css" rel="stylesheet" />
</head>
<body class="min-h-dvh">

  <div class="max-w mx-auto p-2">
    <alp-console class="m-2"></alp-console>
    <alp-repo class="m-2"></alp-repo>
    <alp-text class="m-2"></alp-text>
    <alp-rows class="m-2"></alp-rows>
  </div>

  <!-- Floating action button in corner -->
  <alp-fab class="fixed bottom-32 right-4" icon="ph ph-gear-six" target="alp.modal"></alp-fab>

  <!-- Modal (includes hub and pages) -->
  <alp-modal></alp-modal>

  <script type="module">
    // Core system (includes fills and installers)
    import { alp } from './core/alp-core.js';

    // Components
    import { defineConsoleComponent } from './components/alp-console.js';
    import { defineRepoComponent } from './components/alp-repo.js';
    import { defineTextComponent } from './components/alp-text.js';
    import { defineRowsComponent } from './components/alp-rows.js';
    import { defineFabComponent } from './components/alp-fab.js';
    import { defineModalComponent } from './components/alp-modal.js';
    import { defineHubComponent } from './components/alp-hub.js';
    import { definePagesComponent } from './components/alp-pages.js';

    // Make alp available globally for Alpine templates
    window.alp = alp;

    // Register components (console first for early capture visibility)
    defineConsoleComponent();
    defineRepoComponent();
    defineTextComponent();
    defineRowsComponent();
    defineFabComponent();
    defineHubComponent();
    definePagesComponent();
    defineModalComponent();  // after hub/pages since modal template includes them
  </script>

  <script defer src="https://unpkg.com/alpinejs"></script>

</body>
</html>
